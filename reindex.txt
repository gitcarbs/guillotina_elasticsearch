From the command line...
------------------------

./bin/g shell


db = root['rel0']
tm = db.get_transaction_manager()
await tm.begin()

from guillotina.component import getUtility
from guillotina.interfaces import ICatalogUtility

search = getUtility(ICatalogUtility)

container = await db.async_get('container')
tm.request.container = container

class printer:
    def write(self, txt):
        print(txt)

await search.reindex_all_content(container, response=printer())
